<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="element-ui/index.css" />
	</head>
	<body>

		<div id="app">
			<el-table :data="tableData" style="width: 100%" height="900" :default-sort="{prop: 'percent', order: 'ascending'}">
				<el-table-column type="index"></el-table-column>
				<el-table-column align="center" prop="name" label="名称"></el-table-column>
				<el-table-column align="center" prop="bottom" label="起始价"></el-table-column>
				<el-table-column align="center" prop="top" label="终止价"></el-table-column>
				<el-table-column align="center" prop="current" label="当前价"></el-table-column>
				<el-table-column align="center" prop="target" label="目标价"></el-table-column>
				<el-table-column align="center" prop="percent" label="百分比" sortable></el-table-column>
			</el-table>
		</div>

		<script src="vue.js" type="text/javascript" charset="utf-8"></script>
		<script src="element-ui/index.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			var app = new Vue({
				el: '#app',
				data() {
					return {
						data: [{
							name: '木林森',
							code: '002747',
							bottom: 10.67,
							top: 11.76,
							current: 11.76
						}, {
							name: '吉祥航空',
							code: '603885',
							bottom: 12.67,
							top: 14.08,
							current: 14.08
						}, {
							name: '国电南瑞',
							code: '600406',
							bottom: 19.50,
							top: 21.50,
							current: 21.50
						}, {
							name: '裕同科技',
							code: '002831',
							bottom: 21.70,
							top: 23.55,
							current: 23.55
						}, {
							name: '老白干酒',
							code: '600559',
							bottom: 12.20,
							top: 13.21,
							current: 13.21
						}, {
							name: '恩捷股份',
							code: '002812',
							bottom: 30.97,
							top: 33.02,
							current: 33.02
						}, {
							name: '三安光电',
							code: '600703',
							bottom: 10.54,
							top: 16.15,
							current: 16.15
						}, {
							name: '江铃汽车',
							code: '000550',
							bottom: 14.20,
							top: 18.61,
							current: 18.61
						}, {
							name: '宏发股份',
							code: '600885',
							bottom: 24.88,
							top: 26.28,
							current: 26.28
						}, {
							name: '星网锐捷',
							code: '002396',
							bottom: 24.95,
							top: 33.94,
							current: 33.94
						}, {
							name: '创维数字',
							code: '000810',
							bottom: 7.64,
							top: 10.14,
							current: 9.43
						}, {
							name: '九州通',
							code: '600998',
							bottom: 13.50,
							top: 14.50,
							current: 14.50
						}, {
							name: '均胜电子',
							code: '600699',
							bottom: 16.14,
							top: 17.14,
							current: 17.14
						}, {
							name: '龙元建设',
							code: '600491',
							bottom: 6.99,
							top: 7.44,
							current: 7.44
						}, {
							name: '世茂股份',
							code: '600823',
							bottom: 4.01,
							top: 4.44,
							current: 4.43
						}, {
							name: '美克家具',
							code: '600337',
							bottom: 3.96,
							top: 4.16,
							current: 4.16
						}, {
							name: '中国长城',
							code: '000066',
							bottom: 12.24,
							top: 14.59,
							current: 14.59
						}, {
							name: '万里扬',
							code: '002434',
							bottom: 7.05,
							top: 7.32,
							current: 7.32
						}, {
							name: '智慧能源',
							code: '600869',
							bottom: 4.89,
							top: 5.4,
							current: 5.15
						}, {
							name: '三星医疗',
							code: '601567',
							bottom: 6.48,
							top: 6.76,
							current: 6.75
						}, {
							name: '林洋能源',
							code: '601222',
							bottom: 4.59,
							top: 4.96,
							current: 4.94
						}, {
							name: '航天电子',
							code: '600879',
							bottom: 5.9,
							top: 6.79,
							current: 6.38
						}, {
							name: '迪贝电气',
							code: '603320',
							bottom: 17.70,
							top: 20.30,
							current: 18.60
						}, {
							name: '鸿路钢构',
							code: '002541',
							bottom: 7.56,
							top: 7.82,
							current: 7.75
						}, {
							name: '柘中股份',
							code: '002346',
							bottom: 12.08,
							top: 12.45,
							current: 12.29
						}, {
							name: '安洁科技',
							code: '002635',
							bottom: 14.52,
							top: 16.14,
							current: 15.88
						}, {
							name: '老板电器',
							code: '002508',
							bottom: 26.87,
							top: 28.93,
							current: 28.00
						}, {
							name: '爱婴室',
							code: '603214',
							bottom: 38.55,
							top: 41.90,
							current: 41.19
						}, {
							name: '福达合金',
							code: '603045',
							bottom: 16.75,
							top: 18.04,
							current: 17.71
						}, {
							name: '中青旅',
							code: '600138',
							bottom: 12.55,
							top: 13.47,
							current: 13.00
						}, {
							name: '中国汽研',
							code: '601965',
							bottom: 7.54,
							top: 7.90,
							current: 7.74
						}, {
							name: '银龙股份',
							code: '603969',
							// bottom: 4.21,
							bottom: 3.92,
							top: 4.52,
							current: 4.4
						}, {
							name: '梦百合',
							code: '603313',
							bottom: 16.22,
							top: 18.57,
							current: 18.07
						}]
					}
				},

				computed: {
					tableData: function() {
						this.data.forEach(item => {
							let target = +((item.top - (item.top - item.bottom) * 0.55).toFixed(2));
							let percent = +(((1 - target / item.current) * 100).toFixed(2));
							item.target = target;
							item.percent = percent;
						});

						return this.data;
					}
				},

				methods: {
					formatter(row, column) {
						return row.address;
					}
				}
			})
		</script>
	</body>
</html>
